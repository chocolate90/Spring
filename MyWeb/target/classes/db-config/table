--계정 생성
create user spring IDENTIFIED by spring;

--권한 부여
grant resource, CONNECT to spring;

--테이블 스페이스
alter user spring DEFAULT TABLESPACE users QUOTA UNLIMITED on users;


-- 스코어서비스 테이블 정보
CREATE TABLE T_SCORE(
    bno NUMBER(10) PRIMARY KEY,
    name VARCHAR2(20),
    kor VARCHAR2(20),
    math VARCHAR2(20)
);

CREATE SEQUENCE T_SCORE_SEQ INCREMENT BY 1 START WITH 1 NOCACHE;

create table FREEBOARD (
    bno number(10) primary key,
    title varchar2(200) not null,
    writer varchar2(200) not null,
    content varchar2(2000) not null,
    regdate date default sysdate,
    updatedate date default sysdate
);

create sequence FREEBOARD_SEQ increment by 1 start with 1 nocache;

--DECLARE
--    var1 number := 1;
--BEGIN
--    while var1 <= 100
--    loop
--    
--        insert into FREEBOARD(bno, writer, title, content)
--        VALUES(FREEBOARD_SEQ.nextval, 'test1', 'test1', 'tes1');
--        
--        insert into FREEBOARD(bno, writer, title, content)
--        VALUES(FREEBOARD_SEQ.nextval, 'admin', 'admin', 'admin');
--        
--        insert into FREEBOARD(bno, writer, title, content)
--        VALUES(FREEBOARD_SEQ.nextval, 'dev', 'dev', 'dev');
--        
--        var1 := var1 + 1;
--    
--    end loop;
--    
--    commit;
--    
--end;

select *
from (
    select rownum rn,
    a.*
    from (
           select * 
           from FREEBOARD
           order by bno desc
    ) a
)
where rn > 20 and rn <= 30;

--댓글 테이블
create table FREEREPLY(

    rno number(10) PRIMARY KEY, --댓글번호
    bno number(10), --글번호
    reply varchar2(1000), --내용
    replyId varchar2(200), --작성자
    replyPw varchar2(200), --비밀번호
    replyDate date default sysdate, --등록일
    updateDate date default sysdate --수정일
    
);

create SEQUENCE FREEREPLY_SEQ INCREMENT BY 1 START WITH 1 NOCACHE;